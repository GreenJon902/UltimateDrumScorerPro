#:set bar_size 50
#:set bar_size_hint None



BoxLayout:
    orientation: "vertical"



    BoxLayout: # HeaderBar
        size_hint_y: bar_size_hint
        height: bar_size


        canvas.before:
            Color:
                rgb: 0.5, 0.5, 0.5

            Rectangle:
                pos: self.pos
                size: self.size




    BoxLayout:
        orientation: "horizontal"




        BoxLayout: # SideBar
            orientation: "vertical"

            size_hint_x: bar_size_hint
            width: bar_size

            canvas.before:
                Color:
                    rgb: 0.4, 0.4, 0.4

                Rectangle:
                    pos: self.pos
                    size: self.size

            HoverButton:
                name: "add_text"

            Widget:




        BoxLayout: # Page
            canvas.before:
                Color:
                    rgb: 0.2, 0.2, 0.2

                Rectangle:
                    pos: self.pos
                    size: self.size




[HoverButton@BoxLayoutWithHoverEvent]:
    on_mouse_enter: image.source = f"resources/{ctx.name}_button_hover.png"
    on_mouse_leave: image.source = f"resources/{ctx.name}_button_normal.png"
    on_touch_down:  if self.collide_point(args[1].x, args[1].y): image.source = f"resources/{ctx.name}_button_click.png"
    on_touch_up:    image.source = (f"resources/{ctx.name}_button_hover.png" if self.collide_point(args[1].x, args[1].y) else f"resources/{ctx.name}_button_normal.png")

    Image:
        id: image
        source: f"resources/{ctx.name}_button_normal.png"

