#:set bar_size 50
#:set bar_size_hint None

#:set header_color ([0.5] * 3)
#:set side_bar_color ([0.4] * 3)
#:set bg_color ([0.2] * 3)

#:set score_zoom_start 0.5
#:set score_zoom_min 0.1
#:set score_zoom_max 2
#:set score_zoom_step 0.01

#:set score_zoom_bar_width 300
#:set score_zoom_bar_size_hint_x None
#:set score_zoom_sign_color ([0.2] * 3)



BoxLayout:
    orientation: "vertical"



    BoxLayout: # HeaderBar
        size_hint_y: bar_size_hint
        height: bar_size


        canvas.before:
            Color:
                rgb: header_color

            Rectangle:
                pos: self.pos
                size: self.size

        Widget: # Spacer


        Image:
            source: "resources/zoom_minus_sign.png"
            size_hint_x: None
            on_height: self.width = self.height
            color: score_zoom_sign_color

        Slider:
            size_hint_x: score_zoom_bar_size_hint_x
            width: score_zoom_bar_width

            min: score_zoom_min
            max: score_zoom_max
            step: score_zoom_step

            value: score_zoom_start
            on_value: score_view.zoom = args[1]

        Image:
            source: "resources/zoom_plus_sign.png"
            size_hint_x: None
            on_height: self.width = self.height
            color: score_zoom_sign_color



    BoxLayout:
        orientation: "horizontal"




        BoxLayout: # SideBar
            orientation: "vertical"

            size_hint_x: bar_size_hint
            width: bar_size

            canvas.before:
                Color:
                    rgb: side_bar_color

                Rectangle:
                    pos: self.pos
                    size: self.size

            SquareHoverButtonW:
                name: "add_text"

            Widget:




        BoxLayout: # BG
            canvas.before:
                Color:
                    rgb: bg_color

                Rectangle:
                    pos: self.pos
                    size: self.size


            ScoreView:
                id: score_view

                zoom: score_zoom_start




<HoverButton@BoxLayoutWithClickHoverEvent>:
    name: "unknown"

    on_mouse_enter: image.source = f"resources/{root.name}_button_hover.png"
    on_mouse_leave: image.source = f"resources/{root.name}_button_normal.png"
    on_press: image.source = f"resources/{root.name}_button_click.png"
    on_release: image.source = f"resources/{root.name}_button_hover.png"

    on_name: image.source = (f"resources/{root.name}_button_click.png" if self.state == "down" else (f"resources/{root.name}_button_hover.png" if self.mouse_over else (f"resources/{root.name}_button_normal.png")))

    Image:
        id: image


<SquareHoverButtonW@HoverButton>:
    size_hint_y: None
    on_width: self.height = self.width

<SquareHoverButtonH@HoverButton>:
    size_hint_x: None
    on_width: self.width = self.height

